{"ast":null,"code":"var _jsxFileName = \"/Users/ax/codeworks/senior/legacy/SpendTune-Solo-Project/client/spendtune/src/components/chart.jsx\",\n  _s = $RefreshSig$();\nimport { useCombinedStore } from \"../Store\";\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\nimport { Doughnut } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nChartJS.register(ArcElement, Tooltip, Legend);\nfunction Chart() {\n  _s();\n  const loggedUser = useCombinedStore(state => state.logged);\n  const categories = loggedUser.categories;\n  const transactions = loggedUser.transactionsCategorized;\n  const categoriesAmounts = categories.map(category => {\n    let amount = 0;\n    transactions.forEach(transaction => {\n      if (transaction.user_category === category) {\n        amount += transaction.amount;\n      }\n    });\n    return amount;\n  });\n  const totals = categoriesAmounts.reduce((acc, curr) => acc + curr, 0);\n  const data = {\n    labels: categories,\n    datasets: [{\n      data: categoriesAmounts,\n      backgroundColor: [\"#fd7f6f\", \"#7eb0d5\", \"#b2e061\", \"#bd7ebe\", \"#ffb55a\", \"#ffee65\", \"#beb9db\", \"#fdcce5\", \"#8bd3c7\"],\n      borderColor: '#10083d'\n    }]\n  };\n  const options = {\n    responsive: true,\n    maintainAspectRatio: true,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          color: '#25BBA8',\n          boxWidth: 20,\n          padding: 15,\n          font: {\n            size: 17,\n            weight: 'bold',\n            family: 'Segoe UI'\n          }\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: loggedUser.categories.length !== 0 && loggedUser.transactionsCategorized.length !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Spendings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Doughnut, {\n          data: data,\n          options: options\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"totals\",\n          children: [\"Totals: \", totals.toFixed(2), \" GBP\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n_s(Chart, \"cwRRwMojzob6dcFaYZJPlCnrTAM=\", false, function () {\n  return [useCombinedStore];\n});\n_c = Chart;\nexport default Chart;\nvar _c;\n$RefreshReg$(_c, \"Chart\");","map":{"version":3,"names":["useCombinedStore","Chart","ChartJS","ArcElement","Tooltip","Legend","Doughnut","jsxDEV","_jsxDEV","Fragment","_Fragment","register","_s","loggedUser","state","logged","categories","transactions","transactionsCategorized","categoriesAmounts","map","category","amount","forEach","transaction","user_category","totals","reduce","acc","curr","data","labels","datasets","backgroundColor","borderColor","options","responsive","maintainAspectRatio","plugins","legend","position","color","boxWidth","padding","font","size","weight","family","children","length","className","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","_c","$RefreshReg$"],"sources":["/Users/ax/codeworks/senior/legacy/SpendTune-Solo-Project/client/spendtune/src/components/chart.jsx"],"sourcesContent":["import { useCombinedStore } from \"../Store\";\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\nimport { Doughnut } from 'react-chartjs-2';\n\nChartJS.register(ArcElement, Tooltip, Legend );\n\nfunction Chart() {\n\n  const loggedUser = useCombinedStore(state => state.logged);\n  const categories = loggedUser.categories;\n  const transactions = loggedUser.transactionsCategorized;\n\n  const categoriesAmounts = categories.map(category => {\n    let amount = 0;\n    transactions.forEach(transaction => {\n      if (transaction.user_category === category) {\n        amount += transaction.amount;\n      }\n    })\n    return amount;\n  })\n\n  const totals = categoriesAmounts.reduce((acc, curr) => acc + curr, 0);\n\n  const data = {\n    labels: categories,\n    datasets: [\n      {\n        data: categoriesAmounts,\n        backgroundColor: [\n          \"#fd7f6f\", \"#7eb0d5\", \"#b2e061\", \"#bd7ebe\", \"#ffb55a\",\n          \"#ffee65\", \"#beb9db\", \"#fdcce5\", \"#8bd3c7\"\n        ]\n        ,\n        borderColor: '#10083d',\n      }\n    ]\n  };\n\n  const options = {\n    responsive: true,\n    maintainAspectRatio: true,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          color: '#25BBA8',\n          boxWidth: 20,\n          padding: 15,\n          font: {\n            size: 17,\n            weight: 'bold',\n            family: 'Segoe UI'\n          },\n        },\n      },\n    },\n  };\n\n  return (\n    <>\n    { loggedUser.categories.length !== 0 &&\n      loggedUser.transactionsCategorized.length !== 0 &&\n    <div className=\"chart-container\">\n      <div className=\"chart\">\n        <h2>Spendings</h2>\n        <Doughnut data={data} options={options} />\n        <h2 className=\"totals\">Totals: {totals.toFixed(2)} GBP</h2>\n      </div>\n      </div>\n    }\n    </>\n  );\n}\n\nexport default Chart;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}